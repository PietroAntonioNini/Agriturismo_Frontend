/* Importa i temi personalizzati */
@import './app/shared/styles/themes/index.scss';

/* Importa i CSS precompilati di Angular Material (sovrascriveremo alcuni stili) */
@import "@angular/material/prebuilt-themes/indigo-pink.css";

/* Stili globali */
html, body { 
  height: 100%; 
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  box-sizing: border-box;
}

*, *:before, *:after {
  box-sizing: inherit;
}

body { 
  font-family: 'Inter', Roboto, "Helvetica Neue", sans-serif; 
  background-color: var(--app-background);
  color: var(--text-color);
  transition: background-color var(--transition-normal), color var(--transition-normal);
}

.app-container {
  display: flex;
  flex-direction: column;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  overflow: hidden;
}

.mat-drawer-container {
  height: 100%;
  background-color: var(--app-background) !important; // Sovrascrivi il colore di sfondo di Material
}

// Override personalizzati per Angular Material
.mat-mdc-menu-panel {
  background-color: var(--card-background) !important;
  color: var(--text-color) !important;
}

.mat-mdc-menu-item {
  color: var(--text-color) !important;
}

.mat-mdc-dialog-container .mdc-dialog__surface {
  background-color: var(--card-background) !important;
  color: var(--text-color) !important;
}

// Forza il max-height anche sul contenitore del form
.mat-mdc-dialog-container .mdc-dialog__surface .mat-mdc-dialog-content {
  max-height: 90vh !important;
}

.mat-mdc-card {
  background-color: var(--card-background) !important;
  color: var(--text-color) !important;
}

.mat-mdc-divider {
  border-color: var(--border-color) !important;
}

// Modifica il colore di sfondo dei menu
.mat-mdc-menu-content {
  background-color: var(--card-background) !important;
}

// Stili per i badge
.mat-badge-accent .mat-badge-content {
  background-color: var(--secondary-color) !important;
  color: white !important;
}

// Override per i bottoni
.mat-mdc-raised-button.mat-primary {
  background-color: var(--primary-color) !important;
}

//stili overlay documenti
.document-preview-overlay {
  z-index: var(--z-index-modal);
}

.document-icon-container {
  display: inline-block;
  cursor: pointer;
}

// Stili per il pannello del dialogo di conferma
.confirmation-dialog-panel {
  .mat-mdc-dialog-container {
    padding: 0 !important;
    overflow: hidden;
    
    .mdc-dialog__surface {
      background-color: var(--card-background) !important;
      box-shadow: var(--shadow-medium) !important;
      border-radius: var(--border-radius-md);
      overflow: hidden;
    }
  }
}

// Override drastico per le tabelle in dark mode
html[data-theme="dark"] {
  .mat-mdc-table {
    .mat-mdc-row {
      color: white !important;
    }
    
    td.mat-mdc-cell {
      color: white !important;
    }
    
    th.mat-mdc-header-cell {
      color: white !important;
    }
  }

  // Forza il colore bianco su tutti i testi nelle tabelle
  tr.mat-mdc-row, 
  tr.mat-row,
  .mat-mdc-cell,
  .mat-cell {
    color: white !important;
  }
  
  // Sovrascrive qualsiasi variabile CSS interna di Material
  --mat-table-row-item-label-text-color: white !important;
  --mat-table-row-header-text-color: white !important;
  --mat-table-row-item-container-text-color: white !important;
}